{"ast":null,"code":"import { takeLatest, call, put, all } from 'redux-saga/effects';\nimport { ShopActionTypes } from './shop.types';\nimport { firestore, convertCollectionsSnapshotMap } from '../../firebase/firebase.utils';\nimport { fetchCollectionSuccess, fetchCollectionFailure } from './shop.actions';\nexport function* fetchCollectionsAsync() {\n  try {\n    const collectionRef = firestore.collection('collections');\n    const snapshop = yield collectionRef.get();\n    const collectionsMap = yield call(convertCollectionsSnapshotMap, snapshop);\n    yield put(fetchCollectionSuccess(collectionsMap));\n  } catch (error) {\n    yield put(fetchCollectionFailure(error.message));\n  }\n}\nexport function* fetchCollectionsStart() {\n  yield takeLatest(ShopActionTypes.FETCH_COLLECTIONS_START, fetchCollectionsAsync);\n}\nexport function* shopSagas() {\n  yield all([call(fetchCollectionsStart)]);\n}","map":{"version":3,"sources":["/home/tanya/TS/REACT/Projects/online-clothing/src/redux/shop/shop.sagas.js"],"names":["takeLatest","call","put","all","ShopActionTypes","firestore","convertCollectionsSnapshotMap","fetchCollectionSuccess","fetchCollectionFailure","fetchCollectionsAsync","collectionRef","collection","snapshop","get","collectionsMap","error","message","fetchCollectionsStart","FETCH_COLLECTIONS_START","shopSagas"],"mappings":"AAAA,SAAQA,UAAR,EAAoBC,IAApB,EAAyBC,GAAzB,EAA6BC,GAA7B,QAAuC,oBAAvC;AACA,SAAQC,eAAR,QAA8B,cAA9B;AACA,SAASC,SAAT,EAAmBC,6BAAnB,QAAwD,+BAAxD;AACA,SAAQC,sBAAR,EAA+BC,sBAA/B,QAA4D,gBAA5D;AAEA,OAAO,UAAUC,qBAAV,GAAkC;AACrC,MAAI;AACA,UAAMC,aAAa,GAAGL,SAAS,CAACM,UAAV,CAAqB,aAArB,CAAtB;AACA,UAAMC,QAAQ,GAAG,MAAMF,aAAa,CAACG,GAAd,EAAvB;AACA,UAAMC,cAAc,GAAG,MAAMb,IAAI,CAACK,6BAAD,EAAgCM,QAAhC,CAAjC;AACA,UAAMV,GAAG,CAACK,sBAAsB,CAACO,cAAD,CAAvB,CAAT;AACH,GALD,CAKC,OAAOC,KAAP,EAAc;AACX,UAAMb,GAAG,CAACM,sBAAsB,CAACO,KAAK,CAACC,OAAP,CAAvB,CAAT;AACH;AACJ;AAED,OAAO,UAAUC,qBAAV,GAAkC;AACrC,QAAMjB,UAAU,CAACI,eAAe,CAACc,uBAAjB,EAAyCT,qBAAzC,CAAhB;AACH;AAED,OAAO,UAAUU,SAAV,GAAsB;AACzB,QAAMhB,GAAG,CAAC,CAACF,IAAI,CAACgB,qBAAD,CAAL,CAAD,CAAT;AACH","sourcesContent":["import {takeLatest, call,put,all} from 'redux-saga/effects';\nimport {ShopActionTypes} from './shop.types';\nimport { firestore,convertCollectionsSnapshotMap } from '../../firebase/firebase.utils';\nimport {fetchCollectionSuccess,fetchCollectionFailure} from './shop.actions';\n\nexport function* fetchCollectionsAsync() {\n    try {\n        const collectionRef = firestore.collection('collections');\n        const snapshop = yield collectionRef.get();\n        const collectionsMap = yield call(convertCollectionsSnapshotMap, snapshop);\n        yield put(fetchCollectionSuccess(collectionsMap));\n    }catch (error) {\n        yield put(fetchCollectionFailure(error.message));\n    }\n}\n\nexport function* fetchCollectionsStart() {\n    yield takeLatest(ShopActionTypes.FETCH_COLLECTIONS_START,fetchCollectionsAsync)\n}\n\nexport function* shopSagas() {\n    yield all([call(fetchCollectionsStart)])\n}"]},"metadata":{},"sourceType":"module"}