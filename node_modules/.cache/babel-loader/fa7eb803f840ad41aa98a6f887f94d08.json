{"ast":null,"code":"var _this=this;import React,{useEffect,lazy,Suspense}from'react';import{Switch,Route,Redirect}from'react-router-dom';import{connect}from'react-redux';import{createStructuredSelector}from'reselect';import Spinner from'./components/spinner/spinner.component';import ErrorBoundary from'./components/error-boundary/error-boundary.component';import Header from'./components/header/header.component';import{GlobalStyle}from'./global.styles';import{selectCurrentUser}from'./redux/user/user.selectors';import{checkUserSession as _checkUserSession}from'./redux/user/user.actions';var HomePage=lazy(function(){return import('./pages/homepage/homepage.component');});var ShopPage=lazy(function(){return import('./pages/shop/shop.component');});var CheckoutPage=lazy(function(){return import('./pages/checkout/checkout.component');});var SignInAndSignUpPage=lazy(function(){return import('./pages/sign-in-and-sign-up/sign-in-and-sign-up.component');});var Page404=function Page404(_ref){var location=_ref.location;return/*#__PURE__*/React.createElement(ErrorBoundary,null);};var App=function App(_ref2){var checkUserSession=_ref2.checkUserSession,currentUser=_ref2.currentUser;useEffect(function(){checkUserSession();},[checkUserSession]);// componentDidMount() {\n//   const { checkUserSession } = this.props;\n//   checkUserSession();\n// }\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(GlobalStyle,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(ErrorBoundary,null,/*#__PURE__*/React.createElement(Suspense,{fallback:/*#__PURE__*/React.createElement(Spinner,null)},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:HomePage}),/*#__PURE__*/React.createElement(Route,{path:\"/shop\",component:ShopPage}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/checkout\",component:CheckoutPage}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/signin\",render:function render(){return _this.props.currentUser?/*#__PURE__*/React.createElement(Redirect,{to:\"/\"}):/*#__PURE__*/React.createElement(SignInAndSignUpPage,null);}}),/*#__PURE__*/React.createElement(Route,{component:Page404})))));};var mapStateToProps=createStructuredSelector({currentUser:selectCurrentUser});var mapDispatchToProps=function mapDispatchToProps(dispatch){return{checkUserSession:function checkUserSession(){return dispatch(_checkUserSession());}};};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["/home/tanya/TS/REACT/Projects/online-clothing/src/App.js"],"names":["React","useEffect","lazy","Suspense","Switch","Route","Redirect","connect","createStructuredSelector","Spinner","ErrorBoundary","Header","GlobalStyle","selectCurrentUser","checkUserSession","HomePage","ShopPage","CheckoutPage","SignInAndSignUpPage","Page404","location","App","currentUser","props","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"eAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,IAA1B,CAAgCC,QAAhC,KAA+C,OAA/C,CACA,OAAQC,MAAR,CAAgBC,KAAhB,CAAuBC,QAAvB,KAAsC,kBAAtC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,wBAAT,KAAyC,UAAzC,CAEA,MAAOC,CAAAA,OAAP,KAAoB,wCAApB,CACA,MAAOC,CAAAA,aAAP,KAA0B,sDAA1B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sCAAnB,CAEA,OAAQC,WAAR,KAA0B,iBAA1B,CAEA,OAAQC,iBAAR,KAAgC,6BAAhC,CACA,OAAQC,gBAAgB,GAAhBA,CAAAA,iBAAR,KAA+B,2BAA/B,CAEA,GAAMC,CAAAA,QAAQ,CAAGb,IAAI,CAAC,iBAAM,QAAO,qCAAP,CAAN,EAAD,CAArB,CACA,GAAMc,CAAAA,QAAQ,CAAGd,IAAI,CAAC,iBAAM,QAAO,6BAAP,CAAN,EAAD,CAArB,CACA,GAAMe,CAAAA,YAAY,CAAGf,IAAI,CAAC,iBAAM,QAAO,qCAAP,CAAN,EAAD,CAAzB,CACA,GAAMgB,CAAAA,mBAAmB,CAAGhB,IAAI,CAAC,iBAAM,QAAO,2DAAP,CAAN,EAAD,CAAhC,CACA,GAAMiB,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,UAAGC,CAAAA,QAAH,MAAGA,QAAH,oBAAmB,oBAAC,aAAD,MAAnB,EAAhB,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,OAAoC,IAAlCP,CAAAA,gBAAkC,OAAlCA,gBAAkC,CAAjBQ,WAAiB,OAAjBA,WAAiB,CAC9CrB,SAAS,CAAC,UAAM,CACda,gBAAgB,GACjB,CAFQ,CAEN,CAACA,gBAAD,CAFM,CAAT,CAIA;AACA;AACA;AACA;AAEA,mBACE,4CACE,oBAAC,WAAD,MADF,cAEE,oBAAC,MAAD,MAFF,cAGE,oBAAC,aAAD,mBAEI,oBAAC,QAAD,EAAU,QAAQ,cAAE,oBAAC,OAAD,MAApB,eACA,oBAAC,MAAD,mBACI,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,SAAS,CAAEC,QAAjC,EADJ,cAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAEC,QAA/B,EAFJ,cAGI,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,WAAlB,CAA8B,SAAS,CAAEC,YAAzC,EAHJ,cAII,oBAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,SAFP,CAGE,MAAM,CAAE,wBACN,CAAA,KAAI,CAACM,KAAL,CAAWD,WAAX,cACE,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EADF,cAGE,oBAAC,mBAAD,MAJI,EAHV,EAJJ,cAeI,oBAAC,KAAD,EAAO,SAAS,CAAEH,OAAlB,EAfJ,CADA,CAFJ,CAHF,CADF,CA6BD,CAvCD,CAyCA,GAAMK,CAAAA,eAAe,CAAGhB,wBAAwB,CAAC,CAC/Cc,WAAW,CAAGT,iBADiC,CAAD,CAAhD,CAIA,GAAMY,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,QAAK,CACtCZ,gBAAgB,CAAG,kCAAMY,CAAAA,QAAQ,CAACZ,iBAAgB,EAAjB,CAAd,EADmB,CAAL,EAAnC,CAIA,cAAeP,CAAAA,OAAO,CACpBiB,eADoB,CAEpBC,kBAFoB,CAAP,CAGbJ,GAHa,CAAf","sourcesContent":["import React, {useEffect, lazy, Suspense} from 'react';\nimport {Switch, Route, Redirect} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\n\nimport Spinner from './components/spinner/spinner.component';\nimport ErrorBoundary from './components/error-boundary/error-boundary.component';\n\nimport Header from './components/header/header.component';\n\nimport {GlobalStyle} from './global.styles';\n\nimport {selectCurrentUser} from './redux/user/user.selectors';\nimport {checkUserSession} from './redux/user/user.actions';\n\nconst HomePage = lazy(() => import('./pages/homepage/homepage.component'));\nconst ShopPage = lazy(() => import('./pages/shop/shop.component'));\nconst CheckoutPage = lazy(() => import('./pages/checkout/checkout.component'));\nconst SignInAndSignUpPage = lazy(() => import('./pages/sign-in-and-sign-up/sign-in-and-sign-up.component'));\nconst Page404 = ({ location }) => (<ErrorBoundary />);\n\nconst App = ({checkUserSession,currentUser}) => {\n  useEffect(() => {\n    checkUserSession();\n  }, [checkUserSession])\n\n  // componentDidMount() {\n  //   const { checkUserSession } = this.props;\n  //   checkUserSession();\n  // }\n  \n  return (\n    <div>\n      <GlobalStyle />    \n      <Header />\n      <ErrorBoundary>      \n       \n          <Suspense fallback={<Spinner />}>\n          <Switch>\n              <Route exact path=\"/\" component={HomePage} />\n              <Route path=\"/shop\" component={ShopPage} />\n              <Route exact path=\"/checkout\" component={CheckoutPage} />\n              <Route\n                exact\n                path='/signin'\n                render={() =>\n                  this.props.currentUser ? (\n                    <Redirect to='/' />\n                  ) : (\n                    <SignInAndSignUpPage />\n                  )\n                }\n              /> \n              <Route component={Page404} />\n              </Switch> \n            </Suspense>    \n           \n      </ErrorBoundary>\n    </div>\n  );\n}  \n\nconst mapStateToProps = createStructuredSelector({\n  currentUser : selectCurrentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n  checkUserSession : () => dispatch(checkUserSession())\n})\n\nexport default connect(\n  mapStateToProps, \n  mapDispatchToProps\n)(App);"]},"metadata":{},"sourceType":"module"}